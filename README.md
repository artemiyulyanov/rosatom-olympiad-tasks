# üöÄ rosatom-olympiad-tasks
–†–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç—É—Ä–∞ –æ–ª–∏–º–ø–∏–∞–¥—ã –†–æ—Å–∞—Ç–æ–º 2025 –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ –¥–ª—è 11 –∫–ª–∞—Å—Å–æ–≤ –æ—Ç –ù–ò–Ø–£ ¬´–ú–ò–§–ò¬ª

---

## üè∞ A. –ñ–µ–ª–µ–∑–Ω—ã–π —Ç—Ä–æ–Ω

**–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:**  
–í –°–µ–º–∏ –ö–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞—Ö –µ—Å—Ç—å N –≥–æ—Ä–æ–¥–æ–≤, —Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö M –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–º–∏ –ø—É—Ç—è–º–∏. –ö–∞–∂–¥—ã–π –ø—É—Ç—å –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –∏ —Å–æ–µ–¥–∏–Ω—è–µ—Ç –¥–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≥–æ—Ä–æ–¥–∞. –ù–æ–≤—ã–π –∫–æ—Ä–æ–ª—å –í–µ—Å—Ç–µ—Ä–æ—Å–∞ —Ö–æ—á–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Å–µ–±–µ –ñ–µ–ª–µ–∑–Ω—ã–π –¢—Ä–æ–Ω, –ø–µ—Ä–µ–ø–ª–∞–≤–∏–≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–µ –ø—É—Ç–∏. –ß—Ç–æ–±—ã —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≥–æ—Ä–æ–¥–æ–≤ –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–∞, –æ–Ω —Ö–æ—á–µ—Ç –ø–µ—Ä–µ–ø–ª–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ ¬´–ª–∏—à–Ω–∏–µ¬ª –ø—É—Ç–∏.

üìå **–ü—É—Ç—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –ª–∏—à–Ω–∏–º**, –µ—Å–ª–∏ –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±—Ä–∞—Ç—å—Å—è –∏–∑ –æ–¥–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –≤ –¥—Ä—É–≥–æ–π, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —Å–≤—è–∑–∞–Ω —Ä–∞–Ω–µ–µ. –ó–∞–¥–∞—á–∞ ‚Äî –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —Å–∫–æ–ª—å–∫–æ –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã—Ö –ø—É—Ç–µ–π –º–æ–∂–Ω–æ –ø–µ—Ä–µ–ø–ª–∞–≤–∏—Ç—å, –Ω–µ –Ω–∞—Ä—É—à–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å –≥–æ—Ä–æ–¥–æ–≤.

**üì• –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞:**
- –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞: –¥–≤–∞ —á–∏—Å–ª–∞ `N` –∏ `M` (1 ‚â§ N ‚â§ 2¬∑10‚Åµ, 0 ‚â§ M ‚â§ 2¬∑10‚Åµ) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Ä–æ–¥–æ–≤ –∏ –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã—Ö –ø—É—Ç–µ–π.
- –î–∞–ª–µ–µ M —Å—Ç—Ä–æ–∫ –ø–æ –¥–≤–∞ —á–∏—Å–ª–∞ `u` –∏ `v` (1 ‚â§ u, v ‚â§ N, u ‚â† v) ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –ø—É—Ç–∏.

**üì§ –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**
- –û–¥–Ω–æ —á–∏—Å–ª–æ ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–ø–ª–∞–≤–∏—Ç—å.

**üõ† –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ—à–µ–Ω–∏—é:**  
–ó–∞–¥–∞—á–∞ —Å–≤–æ–¥–∏—Ç—Å—è –∫ –ø–æ–∏—Å–∫—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä—ë–±–µ—Ä, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤—Ö–æ–¥—è—Ç –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ—Å—Ç–æ–≤–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –≥—Ä–∞—Ñ–∞.

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã:**
- **Union-Find (Disjoint Set)** —Å —ç–≤—Ä–∏—Å—Ç–∏–∫–æ–π —Ä–∞–Ω–≥–∞ –∏ —Å–∂–∞—Ç–∏—è –ø—É—Ç–µ–π.
- **–ê–ª–≥–æ—Ä–∏—Ç–º –ö—Ä–∞—Å–∫–∞–ª–∞** –¥–ª—è MST.

**‚è± –°–ª–æ–∂–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞:**
- O(|E| ¬∑ log |E|)
- –ü–∞–º—è—Ç—å: O(N + M)

**üìå –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**
```
–í–≤–æ–¥
3 1
1 2

–í—ã–≤–æ–¥
0

–í–≤–æ–¥
3 3
1 2
2 3
3 1

–í—ã–≤–æ–¥
1
```

---

## üî¢ B. V

**–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:**  
–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ ¬´–†¬ª –∑–∞–º–µ—Ç–∏–ª–∏, —á—Ç–æ —Ä–∞–¥–∏–∞—Ü–∏–æ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —Å–Ω–∞—á–∞–ª–∞ —É–±—ã–≤–∞–µ—Ç, –∞ –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ —Ä–∞—Å—Ç—ë—Ç. –î–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–∞–∫–∏–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º –ø—Ä–∏—Å–≤–æ–∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –º–µ—Ç–∫–∏.

üìå **–£—Å–ª–æ–≤–∏–µ:** —á–∏—Å–ª–æ –ø–æ–¥—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ —Ü–∏—Ñ—Ä—ã —Å–Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–≥–æ —É–±—ã–≤–∞—é—Ç, –∞ –∑–∞—Ç–µ–º —Å—Ç—Ä–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—Ç. –ö–∞–∂–¥–∞—è —á–∞—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª–µ–µ –æ–¥–Ω–æ–π —Ü–∏—Ñ—Ä—ã.

**üì• –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞:**
- –û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ —Å —á–∏—Å–ª–æ–º `N` (1 ‚â§ N ‚â§ 10¬π‚Å∂).

**üì§ –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**
- –û–¥–Ω–æ —á–∏—Å–ª–æ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —á–∏—Å–µ–ª ‚â§ N.

**üõ† –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ—à–µ–Ω–∏—é:**  
–†–µ—à–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é **Digit DP**:
- DP –ø–æ –ø–æ–∑–∏—Ü–∏—è–º —Ü–∏—Ñ—Ä, —Å–æ—Å—Ç–æ—è–Ω–∏—é (—É–±—ã–≤–∞–Ω–∏–µ/–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ), –Ω–∞–ª–∏—á–∏—é —É–±—ã–≤–∞—é—â–µ–π —á–∞—Å—Ç–∏ –∏ tight-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é.
- –°—á–∏—Ç–∞–µ–º –≤—Å–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ —á–∏—Å–ª–∞ –¥–æ N –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ–±–æ—Ä–∞.

**‚è± –°–ª–æ–∂–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞:**
- –í—Ä–µ–º—è: O(–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä N) ‚âà 20
- –ü–∞–º—è—Ç—å: O(2640) —è—á–µ–µ–∫

**üìå –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**
```
–í–≤–æ–¥
120

–í—ã–≤–æ–¥
9
```

**üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è N –¥–æ 10¬π‚Å∂.
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∞–ª—ã—Ö —á–∏—Å–µ–ª.

---

## üè¢ C. –ú–µ—Ç—Ä–∏–∫–∞ –Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏

**–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:**  
–í –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ "–û–∫–µ–∞–Ω–∏—è –ò–Ω–∫–æ—Ä–ø–æ—Ä–µ–π—Ç–µ–¥" —Å—Ç—Ä–æ–≥–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è. –ö–∞–∂–¥—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫, –∫—Ä–æ–º–µ –≥–ª–∞–≤—ã (–ë–æ–ª—å—à–æ–≥–æ –ë—Ä–∞—Ç–∞), –∏–º–µ–µ—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –Ω–∞—á–∞–ª—å–Ω–∏–∫–∞.

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã:**
1. **–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ –ü—Ä–∞–≤–¥—ã:** –º–µ—Ç—Ä–∏–∫–∞ –Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏ = —Å—É–º–º–∞ –¥–≤—É—Ö –Ω–∞–∏–±–æ–ª—å—à–∏—Ö –∑–∞—Ä–ø–ª–∞—Ç —Å—Ä–µ–¥–∏ –ø–æ–¥—á–∏–Ω—ë–Ω–Ω—ã—Ö X –º–∏–Ω—É—Å —Å—É–º–º–∞ –¥–≤—É—Ö –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö.
2. **–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ –ò–∑–æ–±–∏–ª–∏—è:** –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç—ã X –∏ –≤—Å–µ—Ö –ø–æ–¥—á–∏–Ω—ë–Ω–Ω—ã—Ö –Ω–∞ –≤–µ–ª–∏—á–∏–Ω—É d.

**üì• –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞:**
- `N` ‚Äî —á–∏—Å–ª–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.
- `N‚àí1` —á–∏—Å–µ–ª `a_i` ‚Äî —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ `i+1`.
- `N` —á–∏—Å–µ–ª `b_i` ‚Äî –∑–∞—Ä–ø–ª–∞—Ç—ã (`b_1 = 10¬≥‚Å∞`).
- `Q` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤.
- –î–∞–ª–µ–µ Q –∑–∞–ø—Ä–æ—Å–æ–≤: `1 X` –∏–ª–∏ `2 X d`.

**üì§ –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —Ç–∏–ø–∞ 1 ‚Äî –æ–¥–Ω–æ —á–∏—Å–ª–æ, –º–µ—Ç—Ä–∏–∫–∞ –Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏.

**üõ† –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ—à–µ–Ω–∏—é:**
- **Euler Tour** –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–µ—Ä–µ–≤–∞ –≤ –º–∞—Å—Å–∏–≤.
- **–°–µ–≥–º–µ–Ω—Ç–Ω–æ–µ –¥–µ—Ä–µ–≤–æ** –¥–ª—è –¥–≤—É—Ö –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∏ –¥–≤—É—Ö –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã—Ö –∑–∞—Ä–ø–ª–∞—Ç —Å –ª–µ–Ω–∏–≤—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º.
- `query` –∏ `rangeAdd` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

**‚è± –°–ª–æ–∂–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞:**
- O(N) –¥–ª—è DFS –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–µ—Ä–µ–≤–∞
- O(Q¬∑log N) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–∞–º—è—Ç—å: O(N)

**üìå –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**
```
–í–≤–æ–¥
6
1 2 1 4 4
1000000000000000000000000000000 10005 10004 10003 10002 10001
4
1 1
1 3
2 4 10
1 1

–í—ã–≤–æ–¥
6
0
16
```


**üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏ N –¥–æ 250000 –∏ Q –¥–æ 4¬∑10‚Åµ.
- –î–≤–∞ –º–∞–∫—Å–∏–º—É–º–∞ –∏ –¥–≤–∞ –º–∏–Ω–∏–º—É–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –º–∞–ª—ã–µ –ø–æ–¥—á–∏–Ω—ë–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã.